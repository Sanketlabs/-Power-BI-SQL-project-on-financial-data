Key Performance Indicators (KPIs) Requirements:

Question: Total Loan Applications: We need to calculate the total number of loan applications received during a specified period. Additionally, it is essential to monitor the Month-to-Date (MTD) Loan Applications and track changes Month-over-Month (MoM).
Total Loan Applications:	
SELECT count (id) as Total_Loan_Application FROM Bank_loan_Data

MTD Loan Application: 
SELECT count (id) as MTD_Total_Application FROM Bank_loan_Data
WHERE MONTH(issue_date ) = 12 AND YEAR(issue_date)=2021

PMTD Loan Application:
SELECT count (id) as PMTD_Total_Application FROM Bank_loan_Data
WHERE MONTH(issue_date ) = 11 AND YEAR(issue_date)=2021
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Question: Total Funded Amount: Understanding the total amount of funds disbursed as loans is crucial. We also want to keep an eye on the MTD Total Funded Amount and analyse the Month-over-Month (MoM) changes in this metric.
Total Funded Amount: 
SELECT SUM(loan_amount) Total_Funded_Amount FROM Bank_loan_Data

MTD Total Funded Amount:
SELECT SUM(loan_amount) MTD_Total_Funded_Amount FROM Bank_loan_Data WHERE MONTH(issue_date ) = 12 AND YEAR(issue_date)=2021

Previous MTD Funded Amount:
SELECT SUM(loan_amount) PMTD_Total_Funded_Amount FROM Bank_loan_Data WHERE MONTH(issue_date ) = 11 AND YEAR(issue_date)=2021
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Question: Total Amount Received: Tracking the total amount received from borrowers is essential for assessing the bank's cash flow and loan repayment. We should analyse the Month-to-Date (MTD) Total Amount Received and observe the Month-over-Month (MoM) changes.
Total Amount Received: 
SELECT SUM(total_payment) AS Total_Amount_Received from Bank_loan_Data

MTD Total Received Amount:
SELECT SUM(total_payment) AS MTD_Amount_Received from Bank_loan_Data
WHERE MONTH(issue_date)=12 AND YEAR(issue_date)=2021

PMTD Total Received Amount:
SELECT SUM(total_payment) AS PMTD_Amount_Received from Bank_loan_Data
WHERE MONTH(issue_date)=11 AND YEAR(issue_date)=2021
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Question: Average Interest Rate: Calculating the average interest rate across all loans, MTD, and monitoring the Month-over-Month (MoM) variations in interest rates will provide insights into our lending portfolio's overall cost.
Average Interest Rate: 
SELECT ROUND(AVG(int_rate),4)*100 AS Avg_Interst_Rate from Bank_loan_Data

MTD Average Interest Rate: 
SELECT ROUND(AVG(int_rate),4)*100 AS MTD_Avg_Interst_Rate from Bank_loan_Data
WHERE MONTH(issue_date)=12 AND YEAR(issue_date)=2021

PMTD Average Interest Rate: 
SELECT ROUND(AVG(int_rate),4)*100 AS MTD_Avg_Interst_Rate from Bank_loan_Data
WHERE MONTH(issue_date)=11 AND YEAR(issue_date)=2021
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Question: Average Debt-to-Income Ratio (DTI): Evaluating the average DTI for our borrowers helps us gauge their financial health. We need to compute the average DTI for all loans, MTD, and track Month-over-Month (MoM) fluctuations.
Average Debt-to-Income Ratio (DTI):
SELECT ROUND(AVG(dti),4)*100 AS Avg_DTI_Ratio from Bank_loan_Data

MTD Average Interest Rate:
SELECT ROUND(AVG(dti),4)*100 AS MTD_Avg_DTI_Ratio from Bank_loan_Data
WHERE MONTH(issue_date)=12 AND YEAR(issue_date)=2021

PMTD Average Interest Rate:
SELECT ROUND(AVG(dti),4)*100 AS PMTD_Avg_DTI_Ratio from Bank_loan_Data
WHERE MONTH(issue_date)=11 AND YEAR(issue_date)=2021
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

KPI: Good Loan VS Bad Loan
Good Loan: 
1. Good Loan Application Percentage.
SELECT 
	COUNT(CASE WHEN LOAN_STATUS >= 'FULLY PAID' OR LOAN_STATUS='CURRENT' THEN ID END)*100 /
	COUNT(ID) AS Good_Loan_Percentage
FROM Bank_loan_Data

2. Good Loan Applications.
SELECT COUNT(ID) AS Good_Loan_Applications FROM Bank_loan_Data
WHERE LOAN_STATUS='FULLY PAID' OR LOAN_STATUS= 'CURRENT'

3. Good Loan Funded Amount
SELECT SUM(Loan_amount) as Good_Loan_Funded_Amount from Bank_loan_Data
WHERE LOAN_STATUS='FULLY PAID' OR LOAN_STATUS= 'CURRENT'

4. Good Loan Total Received Amount
SELECT SUM(total_payment) as Good_Loan_Total_Received_Amount from Bank_loan_Data WHERE LOAN_STATUS='FULLY PAID' OR LOAN_STATUS= 'CURRENT'


Bad Loan: 
1.Bad Loan Application Percentage
SELECT 
	(COUNT(CASE WHEN LOAN_STATUS = 'CHARGED OFF' THEN ID END)*100.0) /
	COUNT(ID) AS Bad_Loan_Percentage	
	FROM Bank_loan_Data

2.Bad Loan Applications
SELECT COUNT(ID) AS Total_Bad_Loan_Application FROM Bank_loan_Data
WHERE LOAN_STATUS = 'CHARGED OFF'

3.Bad Loan Funded Amount
SELECT sum(loan_amount) AS Bad_Loan_Funded_Amount FROM Bank_loan_Data
WHERE LOAN_STATUS = 'CHARGED OFF'

4.Bad Loan Total Received Amount
SELECT sum(total_payment) AS Bad_Loan_Total_Received_Amount FROM Bank_loan_Data
WHERE LOAN_STATUS = 'CHARGED OFF'
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Loan Status Grid View:
SELECT LOAN_STATUS,
	  COUNT(ID) as Loan_Account,
	  SUM(loan_amount) as Total_Funded_Amount,
	  SUM(TOTAL_PAYMENT) as Total_Payment_Received,
	  AVG(int_rate*100),
	  AVG(dti)
FROM Bank_loan_Data
group by 
	  LOAN_STATUS

2. Month-to-Date (MTD) Funded Amount,' 'MTD Amount Received,'
SELECT loan_status,
	SUM(loan_amount) as MTD_Funded_Amount,
	SUM(total_payment) as MTD_Amount_Received
FROM Bank_loan_Data
WHERE MONTH(issue_date)=12
group by 
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Overview:
1.Monthly Trends by Issue Date for 'Total Loan Applications,' 'Total Funded Amount,' and 'Total Amount Received: 
SELECT 
	MONTH(ISSUE_DATE) as Month_Number,
	DATENAME(MONTH, issue_date) AS Month_Name, 
	count(id) as Total_Application,
	sum(loan_amount) as Funded_Amount,
	SUM(TOTAL_PAYMENT) as	Total_Received_Payment
FROM Bank_loan_Data
group by MONTH(ISSUE_DATE), DATENAME(MONTH, issue_date)
ORDER BY MONTH(ISSUE_DATE) 

2.Regional Analysis by State for 'Total Loan Applications,' 'Total Funded Amount,' and 'Total Amount Received'
SELECT 
	TOP 10 address_state,
	count(id) as Total_Application,
	sum(loan_amount) as Funded_Amount,
	SUM(TOTAL_PAYMENT) as	Total_Received_Payment
FROM Bank_loan_Data
group by address_state
ORDER BY address_state 

3.Loan Term Analysis for 'Total Loan Applications,' 'Total Funded Amount,' and 'Total Amount Received'
SELECT 
	term,
	count(id) as Total_Application,
	sum(loan_amount) as Funded_Amount,
	SUM(TOTAL_PAYMENT) as	Total_Received_Payment
FROM Bank_loan_Data
group by term
ORDER BY term

4.Employee Length Analysis 'Total Loan Applications,' 'Total Funded Amount,' and 'Total Amount Received'
SELECT 
	emp_length,
	count(id) as Total_Application,
	sum(loan_amount) as Funded_Amount,
	SUM(TOTAL_PAYMENT) as	Total_Received_Payment
FROM Bank_loan_Data
group by emp_length
ORDER BY emp_length

5.Loan Purpose Breakdown 'Total Loan Applications,' 'Total Funded Amount,' and 'Total Amount Received'
SELECT 
	purpose,
	count(id) as Total_Application,
	sum(loan_amount) as Funded_Amount,
	SUM(TOTAL_PAYMENT) as	Total_Received_Payment
FROM Bank_loan_Data
group by purpose
ORDER BY purpose

6.Home Ownership Analysis  'Total Loan Applications,' 'Total Funded Amount,' and 'Total Amount Received'
SELECT 
	home_ownership,
	count(id) as Total_Application,
	sum(loan_amount) as Funded_Amount,
	SUM(TOTAL_PAYMENT) as	Total_Received_Payment
FROM Bank_loan_Data
group by home_ownership
ORDER BY home_ownership
